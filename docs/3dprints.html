<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WQS0X98RMY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-WQS0X98RMY');
    </script>
    
    <title>Ganorabricks — 3D Printed LEGO® Accessories</title>
    <link rel="stylesheet" href="style.css">
    <script src="prices.js"></script>
</head>
<body>

<!-- NAVBAR -->
<div id="navbar"></div>

<!-- HERO / INTRO -->
<section>
    <h1 class="section-title">3D Printed Accessories</h1>
    <p>Custom-designed stands, mounts, organizers, and display pieces compatible with LEGO®. These are all printed on demand and can be ordered as many as needed. Multiple colors available, ask for details.</p>
</section>

<!-- GALLERY -->
<section>
    <h2 class="section-title">Inventory</h2>
    <div class="gallery-grid" id="products-cards"></div>
</section>

<!-- CUSTOM ORDERS CTA -->
<section>
    <h2 class="section-title">Want Something Custom?</h2>
    <a class="btn-stud" href="mailto:ganorabricks@icloud.com?subject=Custom%203D%20print%20Inquiry">Request a Custom Print</a>
</section>

<div id="footer"></div>

<script src="script.js"></script>
<script>
// Define product cards data with product IDs for price lookup
const productsCards = [
    {
        id: 'stand',
        image: 'assets/3d-prints/stand36-front-figs.jpg',
        title: 'Minifigure Stands',
        description: 'Display up to 36 minifigures. Custom colors available.',
        price: '',
        link: 'products/stand-details.html',
        imageWidth: '120px'
    },
    {
        id: 'tray',
        image: 'assets/3d-prints/tray02.JPEG',
        title: 'Minifigure Head Organizer Trays',
        description: 'Keep your minifigure heads organized and accessible.',
        price: '',
        link: 'products/tray-details.html',
        imageWidth: '120px'
    },
    {
        id: 'akro-mills-divider',
        image: 'assets/3d-prints/akro-mills-divider-01.jpeg',
        title: 'Akro Mills dividers',
        description: 'Dividers for Akro Mills storage bins, large and small sizes available.',
        price: '',
        link: 'products/akro-mills-divider-details.html',
        imageWidth: '120px'
    },
    {
        id: 'parkside-divider',
        image: 'assets/3d-prints/parkside-divider-01.jpeg',
        title: 'LIDL ParkSide small part organizer dividers',
        description: 'Dividers for LIDL ParkSide storage bins',
        link: 'products/parkside-divider-details.html',
        price: '',
        imageWidth: '120px'
    },
    {
        id: 'ruler',
        image: 'assets/3d-prints/lego-ruler-01.jpeg',
        title: 'LEGO® Ruler',
        description: 'Ruler to measure bricks and axels in an easy way.',
        price: '',
        link: 'products/ruler-details.html',
        imageWidth: '120px'
    },
    {
        id: 'brickheadz-stands',
        image: 'assets/3d-prints/coming-soon-hanging-sign.webp',
        title: 'BrickHeadz stackable stands',
        description: 'Stackable stands for BrickHeadz figures to create multi-level displays.',
        price: '',
        imageWidth: '120px'
    }
];

// Load prices from centralized file
async function initProductCards() {
    await loadPrices();
    
    // Update prices from centralized source
    for (let card of productsCards) {
        card.price = await getPrice(card.id, 'card');
    }
    
    // Render cards after prices are loaded
    renderProductCards('products-cards', productsCards);
}

fetch('navbar.html')
    .then(res => res.text())
    .then(html => {
        document.getElementById('navbar').innerHTML = html;
        // Initialize hamburger menu
        initHamburgerMenu();
        // Re-observe sections for fade-in animation after navbar loads
        if (window.IntersectionObserver) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('section-visible');
            });
            const observerOptions = { threshold: 0.1 };
            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting){
                        entry.target.classList.add('section-visible');
                    }
                });
            }, observerOptions);
            document.querySelectorAll('section').forEach(section => {
                sectionObserver.observe(section);
            });
        }
        fetch('footer.html')
            .then(res => res.text())
            .then(html => document.getElementById('footer').innerHTML = html);
    });

// Initialize product cards with prices
initProductCards();
</script>
</body>
</html>
